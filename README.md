# Using Large Language Models for Automated Testing of JSON Schema Validation Libraries

## Introduction  
This study investigates the use of Large-Scale Language Models (LLMs) to generate JSON documents for the purpose of testing JSON Schema validation libraries across various programming languages. The primary goal is to identify errors or inconsistencies in these libraries, contributing to the software development community and enhancing the reliability of JSON Schema implementations.  

Through the differential testing approach, the study verifies whether the libraries comply with the JSON Schema specification. The project is divided into two phases: the first focuses on generating documents using the LLM and testing 5 libraries in the JavaScript ecosystem, while the second expands the process to other programming languages, enabling a comparative analysis across different ecosystems.  

---

## Phase 1: JSON Validation in JavaScript  
The first phase of the study uses JavaScript with Node.js to make requests to the ChatGPT API, generating JSON documents based on predefined schemas. These documents are then validated by 5 JSON Schema libraries available on npm.  

In this phase, the documents generated by the LLM are used to test libraries in the JavaScript ecosystem, comparing the results between them. If a document is considered valid by one library but rejected by another, this may indicate a discrepancy, pointing to potential errors or incomplete implementations of the JSON Schema specification.  

### JSON Schema Validation Libraries Tested  
Five widely used JSON Schema validation libraries were selected, organized by weekly download counts:  
1. **Ajv JSON Schema Validator** - 116,749,245 weekly downloads  
2. **@exodus/schemasafe** - 1,699,810 weekly downloads  
3. **@cfworker/json-schema** - 128,547 weekly downloads  
4. **json-schema-library** - 114,501 weekly downloads  
5. **@hyperjump/json-schema** - 67,666 weekly downloads  

These data were collected from the npm website on October 25, 2024, ensuring an up-to-date comparison.  

### Differential Testing  
To compare validation results between libraries, the differential testing approach was used. The same set of JSON documents is validated by each library, and any inconsistencies are recorded. These inconsistencies, if found, can provide valuable feedback to the developers and maintainers of the libraries, aiding in improving compliance with the JSON Schema specification.  

### Technologies Used in Phase 1  
- **Node.js**: JavaScript runtime environment.  
- **JavaScript**: Primary language for implementation.  
- **ChatGPT API**: Automatic generation of JSON documents from a JSON Schema.  

---

## Phase 2: Expansion to Multiple Languages  
The second phase of the study expands the validation process to other programming languages, aiming to test JSON Schema libraries in different ecosystems.  

### Selected Programming Languages  
For broader coverage, Phase 2 will implement tests in the following languages:  
- **Go**: A relatively new, modern, and high-performance language widely used in backend development.  
- **Lua**: A lightweight and efficient Brazilian language, popular in embedded systems and game development.  
- **Elixir**: A functional and scalable language known for its fault tolerance. Like Lua, it is also Brazilian.  

### Objectives of Phase 2  
Unlike Phase 1, this stage does not generate new JSON documents but reuses the documents created earlier. This ensures that the same test cases are validated across different languages and their corresponding libraries. The main goal is to identify bugs or implementation errors in JSON Schema validation libraries across different ecosystems.  

### Expected Results of Phase 2  
This phase aims to validate the hypothesis that documents generated by LLMs can be used to test JSON Schema validation libraries in different languages. Through differential testing across different ecosystems, the study seeks to identify discrepancies in the interpretation and validation of JSON Schema.  

---

## Conclusion  
If inconsistencies are found in any of the tested libraries, these errors can be reported to the maintainers, contributing to the improvement of the implementations. On the other hand, the absence of errors will help increase the reliability of JSON Schema validation libraries, strengthening compliance with the specification and benefiting the software development community as a whole.  